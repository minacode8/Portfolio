<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>EMBER & BEAN | Coffee Lab</title>
  <style>
    :root{
      --bg:#0b0a09;
      --panel:#11100e;
      --panel2:#141210;
      --text:#f4efe9;
      --muted:#cbbfb3;
      --muted2:#9b8f83;
      --brand:#ffb454;
      --brand2:#f76b1c;
      --good:#5cffb6;
      --bad:#ff5c7a;
      --ring: rgba(255,180,84,.25);

      --radius: 18px;
      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --shadow2: 0 10px 28px rgba(0,0,0,.35);

      --grid: rgba(255,255,255,.04);
      --glass: rgba(255,255,255,.06);
      --glass2: rgba(255,255,255,.10);

      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font-family: var(--font);
      color: var(--text);
      background:
        radial-gradient(1200px 800px at 10% -10%, rgba(247,107,28,.22), transparent 60%),
        radial-gradient(900px 700px at 90% 0%, rgba(255,180,84,.18), transparent 55%),
        radial-gradient(900px 700px at 60% 110%, rgba(255,180,84,.10), transparent 60%),
        linear-gradient(180deg, var(--bg), var(--bg));
      overflow-x:hidden;
    }

    /* Subtle grid texture */
    .grid-overlay{
      pointer-events:none;
      position:fixed;
      inset:0;
      background-image:
        linear-gradient(var(--grid) 1px, transparent 1px),
        linear-gradient(90deg, var(--grid) 1px, transparent 1px);
      background-size: 46px 46px;
      opacity:.55;
      mask-image: radial-gradient(circle at 50% 0%, rgba(0,0,0,1), rgba(0,0,0,.25) 55%, rgba(0,0,0,0) 85%);
      z-index:0;
    }

    /* Floating beans (decor) */
    .beans{
      position:fixed; inset:0;
      pointer-events:none;
      z-index:0;
      opacity:.55;
      filter: blur(.2px);
    }
    .bean{
      position:absolute;
      width:18px; height:26px;
      border-radius: 999px;
      background:
        radial-gradient(circle at 35% 30%, rgba(255,255,255,.12), transparent 45%),
        linear-gradient(180deg, rgba(255,180,84,.45), rgba(247,107,28,.25));
      box-shadow: 0 14px 30px rgba(0,0,0,.35);
      transform: rotate(20deg);
      animation: floaty 10s linear infinite;
    }
    .bean::after{
      content:"";
      position:absolute; inset:3px 8px;
      border-radius:999px;
      background: rgba(0,0,0,.25);
      opacity:.35;
    }
    @keyframes floaty{
      0%{ transform: translateY(20px) translateX(0) rotate(20deg); opacity:.0}
      12%{opacity:.65}
      50%{ transform: translateY(-40vh) translateX(12vw) rotate(160deg); opacity:.8}
      100%{ transform: translateY(-110vh) translateX(26vw) rotate(260deg); opacity:0}
    }

    /* Page layout */
    .wrap{position:relative; z-index:1}
    .container{
      width:min(1120px, 92vw);
      margin:0 auto;
    }

    /* Top nav */
    .nav{
      position:sticky;
      top:0;
      z-index:20;
      backdrop-filter: blur(12px);
      background: linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.08));
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .nav-inner{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 12px 0;
      gap: 14px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      text-decoration:none; color:var(--text);
      font-weight:800;
      letter-spacing:.8px;
    }
    .logo{
      width:38px; height:38px;
      border-radius: 12px;
      background:
        radial-gradient(circle at 30% 25%, rgba(255,255,255,.14), transparent 50%),
        linear-gradient(135deg, var(--brand2), var(--brand));
      box-shadow: 0 16px 34px rgba(247,107,28,.18);
      position:relative;
      overflow:hidden;
    }
    .logo::after{
      content:"";
      position:absolute;
      inset:-40%;
      background: conic-gradient(from 180deg, transparent, rgba(255,255,255,.18), transparent);
      animation: sheen 4s linear infinite;
    }
    @keyframes sheen{
      to { transform: rotate(360deg); }
    }
    .nav-links{
      display:flex; gap:18px; align-items:center;
      flex-wrap:wrap;
    }
    .nav-links a{
      color:var(--muted);
      text-decoration:none;
      font-weight:650;
      font-size:14px;
      padding:10px 12px;
      border-radius: 999px;
      transition: .18s;
    }
    .nav-links a:hover{
      color:var(--text);
      background: var(--glass);
      box-shadow: 0 0 0 6px var(--ring);
    }
    .nav-cta{
      display:flex; align-items:center; gap:10px;
    }

    .btn{
      border:0;
      padding: 10px 14px;
      border-radius: 999px;
      font-weight:750;
      letter-spacing:.3px;
      cursor:pointer;
      transition: transform .15s, box-shadow .15s, background .15s;
      color: var(--text);
      background: var(--glass);
      box-shadow: var(--shadow2);
      display:inline-flex; align-items:center; gap:10px;
      text-decoration:none;
      user-select:none;
    }
    .btn:hover{ transform: translateY(-1px); }
    .btn:active{ transform: translateY(1px) scale(.99); }

    .btn.primary{
      background: linear-gradient(135deg, var(--brand2), var(--brand));
      color:#1b1008;
      box-shadow: 0 18px 40px rgba(247,107,28,.22);
    }
    .btn.ghost{
      background: transparent;
      border:1px solid rgba(255,255,255,.14);
      box-shadow:none;
    }

    .chip{
      font-family: var(--mono);
      font-size:12px;
      color: var(--muted2);
      border:1px solid rgba(255,255,255,.12);
      padding:8px 10px;
      border-radius:999px;
      background: rgba(0,0,0,.12);
      display:flex; gap:8px; align-items:center;
    }
    .dot{
      width:8px; height:8px; border-radius:99px;
      background: var(--good);
      box-shadow: 0 0 0 5px rgba(92,255,182,.12);
    }

    /* Hero */
    header.hero{
      padding: 56px 0 22px;
      position:relative;
    }
    .hero-grid{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap: 26px;
      align-items:stretch;
    }
    @media (max-width: 920px){
      .hero-grid{ grid-template-columns: 1fr; }
    }

    .hero-card{
      border-radius: var(--radius);
      background:
        radial-gradient(900px 450px at 10% 10%, rgba(255,180,84,.12), transparent 55%),
        linear-gradient(180deg, var(--panel), var(--panel2));
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,.10);
      padding: 26px;
      position:relative;
      overflow:hidden;
    }

    .hero-card::before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(550px 300px at 80% 20%, rgba(247,107,28,.18), transparent 60%),
        radial-gradient(420px 300px at 20% 80%, rgba(255,180,84,.12), transparent 60%);
      opacity:.9;
      pointer-events:none;
    }
    .hero-card > *{ position:relative; z-index:1; }

    .kicker{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
      margin-bottom: 14px;
    }
    .pill{
      padding:8px 12px;
      border-radius:999px;
      font-weight:800;
      font-size:12px;
      letter-spacing:.6px;
      background: rgba(255,180,84,.14);
      border:1px solid rgba(255,180,84,.20);
      color: var(--text);
    }

    h1{
      margin: 6px 0 12px;
      font-size: clamp(34px, 4.2vw, 56px);
      line-height: 1.02;
      letter-spacing: -1px;
    }
    .lead{
      margin: 0 0 18px;
      color: var(--muted);
      font-size: 16px;
      line-height: 1.6;
      max-width: 62ch;
    }

    .hero-actions{
      display:flex; gap:12px; flex-wrap:wrap;
      margin-top: 10px;
    }

    .stats{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      margin-top: 18px;
    }
    @media (max-width: 520px){
      .stats{ grid-template-columns: 1fr; }
    }
    .stat{
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.12);
      padding: 14px;
      box-shadow: var(--shadow2);
    }
    .stat strong{
      font-size: 20px;
      display:block;
    }
    .stat span{
      color: var(--muted2);
      font-size: 13px;
    }

    /* Right panel: "Coffee Visual" */
    .visual{
      border-radius: var(--radius);
      overflow:hidden;
      position:relative;
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,.10);
      min-height: 420px;
      background: #000;
    }

    .visual img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      transform: scale(1.04);
      filter: contrast(1.05) saturate(1.08);
    }
    .visual::after{
      content:"";
      position:absolute; inset:0;
      background:
        linear-gradient(180deg, rgba(0,0,0,.0), rgba(0,0,0,.75)),
        radial-gradient(700px 520px at 15% 10%, rgba(255,180,84,.18), transparent 58%),
        radial-gradient(700px 520px at 85% 15%, rgba(247,107,28,.20), transparent 55%);
      pointer-events:none;
    }

    .overlay-ui{
      position:absolute;
      inset: 16px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      z-index:2;
    }
    .mini-top{
      display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap;
      align-items:center;
    }
    .tag{
      background: rgba(0,0,0,.45);
      border:1px solid rgba(255,255,255,.16);
      padding: 8px 10px;
      border-radius: 999px;
      font-size:12px;
      color: #fff;
      backdrop-filter: blur(10px);
      display:inline-flex; gap:8px; align-items:center;
    }
    .tag b{ color: var(--brand); }
    .mini-bottom{
      display:grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }
    .now-brewing{
      border-radius: 18px;
      background: rgba(0,0,0,.45);
      border:1px solid rgba(255,255,255,.16);
      backdrop-filter: blur(10px);
      padding: 14px;
    }
    .brew-title{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      margin-bottom:10px;
    }
    .brew-title strong{ letter-spacing:.3px; }
    .progress{
      height: 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.10);
      overflow:hidden;
      position:relative;
    }
    .bar{
      width: 40%;
      height:100%;
      border-radius:999px;
      background: linear-gradient(90deg, var(--brand2), var(--brand));
      box-shadow: 0 10px 30px rgba(247,107,28,.25);
      animation: brew 3.2s ease-in-out infinite;
    }
    @keyframes brew{
      0%{ width: 12%; }
      50%{ width: 88%; }
      100%{ width: 12%; }
    }
    .brew-meta{
      display:flex; gap:10px; flex-wrap:wrap;
      margin-top: 10px;
      color: rgba(255,255,255,.85);
      font-size: 12px;
    }
    .brew-meta span{
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.12);
      padding: 6px 10px;
      border-radius: 999px;
    }

    /* Steam animation (pure CSS) */
    .steam{
      position:absolute;
      left: 18px;
      bottom: 140px;
      width: 110px;
      height: 140px;
      z-index:3;
      pointer-events:none;
      opacity:.9;
      filter: blur(.3px);
    }
    .steam i{
      position:absolute;
      bottom:0;
      left: calc(var(--i) * 18px);
      width: 16px;
      height: 16px;
      border-radius: 999px;
      background: rgba(255,255,255,.22);
      animation: steam 3.2s ease-in-out infinite;
      animation-delay: calc(var(--i) * .22s);
    }
    @keyframes steam{
      0%{ transform: translateY(0) scale(.8); opacity:.0 }
      15%{ opacity:.35 }
      60%{ opacity:.22 }
      100%{ transform: translateY(-120px) translateX(18px) scale(1.9); opacity:0 }
    }

    /* Sections */
    section{
      padding: 44px 0;
    }
    .section-head{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap: 14px;
      margin-bottom: 18px;
    }
    .section-head h2{
      margin:0;
      font-size: 26px;
      letter-spacing: -.3px;
    }
    .section-head p{
      margin:0;
      color: var(--muted2);
      max-width: 58ch;
      line-height:1.55;
      font-size: 14px;
    }

    .cards{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
    }
    @media (max-width: 980px){ .cards{ grid-template-columns: 1fr 1fr; } }
    @media (max-width: 620px){ .cards{ grid-template-columns: 1fr; } }

    .card{
      border-radius: var(--radius);
      background: linear-gradient(180deg, var(--panel), var(--panel2));
      border:1px solid rgba(255,255,255,.10);
      box-shadow: var(--shadow2);
      overflow:hidden;
      position:relative;
      transform: translateY(0);
      transition: transform .18s, border-color .18s, box-shadow .18s;
    }
    .card:hover{
      transform: translateY(-3px);
      border-color: rgba(255,180,84,.35);
      box-shadow: 0 22px 46px rgba(0,0,0,.45);
    }
    .card .media{
      height: 160px;
      position:relative;
      overflow:hidden;
    }
    .card .media img{
      width:100%;
      height:100%;
      object-fit:cover;
      transform: scale(1.06);
      transition: transform .5s ease;
      filter: saturate(1.1) contrast(1.03);
    }
    .card:hover .media img{ transform: scale(1.14) rotate(.3deg); }
    .card .media::after{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(180deg, rgba(0,0,0,.0), rgba(0,0,0,.65));
      pointer-events:none;
    }
    .card .body{
      padding: 14px;
    }
    .row{
      display:flex; align-items:center; justify-content:space-between; gap: 10px;
    }
    .title{
      margin: 0 0 6px;
      font-weight: 820;
      letter-spacing: .2px;
    }
    .desc{
      margin:0;
      color: var(--muted);
      font-size: 14px;
      line-height:1.55;
    }
    .price{
      font-family: var(--mono);
      font-weight: 900;
      color: var(--brand);
    }

    /* Menu filters */
    .filters{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center;
      margin-bottom: 14px;
    }
    .filter{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.12);
      color: var(--text);
      padding: 9px 12px;
      border-radius: 999px;
      cursor:pointer;
      font-weight: 750;
      font-size: 13px;
      transition: .15s;
      user-select:none;
    }
    .filter:hover{ box-shadow: 0 0 0 6px var(--ring); }
    .filter.active{
      border-color: rgba(255,180,84,.35);
      background: linear-gradient(135deg, rgba(247,107,28,.25), rgba(255,180,84,.20));
    }

    /* Gallery */
    .masonry{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
    }
    .shot{
      border-radius: var(--radius);
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.10);
      background: var(--panel);
      box-shadow: var(--shadow2);
      position:relative;
      cursor:pointer;
      min-height: 140px;
    }
    .shot img{
      width:100%; height:100%;
      object-fit:cover;
      display:block;
      transform: scale(1.05);
      transition: transform .5s ease, filter .5s ease;
      filter: contrast(1.05) saturate(1.08);
    }
    .shot:hover img{
      transform: scale(1.14);
      filter: contrast(1.08) saturate(1.16);
    }
    .shot::after{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(500px 240px at 20% 10%, rgba(255,180,84,.18), transparent 60%),
        linear-gradient(180deg, rgba(0,0,0,.0), rgba(0,0,0,.6));
      opacity:.9;
      pointer-events:none;
    }
    .shot .cap{
      position:absolute;
      left: 12px;
      right: 12px;
      bottom: 10px;
      display:flex; justify-content:space-between; gap:10px; align-items:center;
      color: rgba(255,255,255,.9);
      font-size: 12px;
      z-index:1;
    }
    .cap span{
      background: rgba(0,0,0,.45);
      border: 1px solid rgba(255,255,255,.12);
      padding: 6px 10px;
      border-radius: 999px;
      backdrop-filter: blur(10px);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width: 70%;
    }
    .cap b{
      color: var(--brand);
      background: rgba(0,0,0,.45);
      border: 1px solid rgba(255,255,255,.12);
      padding: 6px 10px;
      border-radius: 999px;
      backdrop-filter: blur(10px);
    }
    /* Masonry sizing */
    .c4{ grid-column: span 4; }
    .c5{ grid-column: span 5; }
    .c6{ grid-column: span 6; }
    .c7{ grid-column: span 7; }
    .r2{ grid-row: span 2; }
    @media (max-width: 980px){
      .masonry{ grid-template-columns: repeat(6, 1fr); }
      .c7{ grid-column: span 6; }
      .c6{ grid-column: span 6; }
      .c5{ grid-column: span 3; }
      .c4{ grid-column: span 3; }
    }
    @media (max-width: 620px){
      .masonry{ grid-template-columns: repeat(2, 1fr); }
      .c7,.c6,.c5,.c4{ grid-column: span 2; }
    }

    /* Testimonials slider */
    .slider{
      border-radius: var(--radius);
      background: linear-gradient(180deg, var(--panel), var(--panel2));
      border:1px solid rgba(255,255,255,.10);
      box-shadow: var(--shadow2);
      padding: 16px;
      overflow:hidden;
      position:relative;
    }
    .track{
      display:flex;
      gap: 12px;
      transition: transform .45s cubic-bezier(.2,.9,.2,1);
      will-change: transform;
    }
    .quote{
      min-width: min(520px, 92vw);
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.12);
      padding: 14px;
    }
    .quote p{
      margin:0 0 10px;
      color: var(--muted);
      line-height:1.6;
    }
    .who{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      font-size: 13px;
      color: var(--muted2);
    }
    .who strong{ color: var(--text); }
    .slider-controls{
      display:flex; gap:10px; margin-top: 10px; flex-wrap:wrap;
      align-items:center;
    }
    .kbd{
      font-family: var(--mono);
      font-size: 12px;
      color: var(--muted2);
      padding: 8px 10px;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.12);
    }

    /* FAQ accordion */
    .faq{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    @media (max-width: 900px){ .faq{ grid-template-columns: 1fr; } }
    details{
      border-radius: var(--radius);
      background: linear-gradient(180deg, var(--panel), var(--panel2));
      border:1px solid rgba(255,255,255,.10);
      box-shadow: var(--shadow2);
      padding: 12px 14px;
      overflow:hidden;
    }
    summary{
      cursor:pointer;
      font-weight: 800;
      list-style:none;
      display:flex; align-items:center; justify-content:space-between; gap: 10px;
    }
    summary::-webkit-details-marker{ display:none; }
    details p{
      margin:10px 0 0;
      color: var(--muted);
      line-height:1.6;
      font-size: 14px;
    }
    .plus{
      width: 26px; height: 26px;
      border-radius: 999px;
      display:grid; place-items:center;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.12);
      transition: transform .18s;
      flex: 0 0 auto;
    }
    details[open] .plus{ transform: rotate(45deg); }

    /* Contact */
    .contact{
      display:grid;
      grid-template-columns: 1fr .9fr;
      gap: 14px;
      align-items:start;
    }
    @media (max-width: 920px){ .contact{ grid-template-columns: 1fr; } }
    form{
      border-radius: var(--radius);
      background: linear-gradient(180deg, var(--panel), var(--panel2));
      border:1px solid rgba(255,255,255,.10);
      box-shadow: var(--shadow2);
      padding: 14px;
    }

    .field{
      display:flex;
      flex-direction:column;
      gap: 6px;
      margin-bottom: 10px;
    }
    label{
      color: var(--muted2);
      font-size: 13px;
      font-weight: 700;
    }
    input, textarea, select{
      width:100%;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.12);
      color: var(--text);
      outline:none;
      transition: box-shadow .15s, border-color .15s;
      font-family: var(--font);
    }
    input:focus, textarea:focus, select:focus{
      box-shadow: 0 0 0 6px var(--ring);
      border-color: rgba(255,180,84,.35);
    }
    textarea{ min-height: 120px; resize: vertical; }

    .note{
      border-radius: var(--radius);
      background: linear-gradient(180deg, var(--panel), var(--panel2));
      border:1px solid rgba(255,255,255,.10);
      box-shadow: var(--shadow2);
      overflow:hidden;
      position:relative;
    }
    .note .top{
      padding: 14px;
      display:flex; justify-content:space-between; align-items:center; gap:10px;
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .note .map{
      height: 220px;
      background:
        linear-gradient(180deg, rgba(0,0,0,.0), rgba(0,0,0,.55)),
        url("https://images.unsplash.com/photo-1521017432531-fbd92d768814?auto=format&fit=crop&w=1400&q=80");
      background-size: cover;
      background-position:center;
      filter: saturate(1.1) contrast(1.05);
    }
    .note .body{
      padding: 14px;
      color: var(--muted);
      line-height:1.6;
      font-size: 14px;
    }
    .badge{
      font-family: var(--mono);
      font-size: 12px;
      padding: 8px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.12);
      color: var(--muted2);
      white-space:nowrap;
    }

    /* Footer */
    footer{
      padding: 34px 0 44px;
      color: var(--muted2);
    }
    .footer-grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr .8fr;
      gap: 14px;
      align-items:start;
    }
    @media (max-width: 920px){ .footer-grid{ grid-template-columns: 1fr; } }
    .small{
      font-size: 13px;
      line-height:1.6;
      margin: 8px 0 0;
    }
    .links{
      display:flex; flex-direction:column; gap: 8px;
    }
    .links a{
      color: var(--muted);
      text-decoration:none;
      font-weight:650;
      width:max-content;
      padding: 6px 8px;
      border-radius: 10px;
      transition:.15s;
    }
    .links a:hover{
      color: var(--text);
      background: var(--glass);
      box-shadow: 0 0 0 6px var(--ring);
    }

    /* Back to top */
    .topper{
      position:fixed;
      right: 16px;
      bottom: 16px;
      z-index: 30;
      opacity:0;
      transform: translateY(10px);
      pointer-events:none;
      transition: .18s;
    }
    .topper.show{
      opacity:1;
      transform: translateY(0);
      pointer-events:auto;
    }

    /* Modal */
    .modal{
      position:fixed; inset:0;
      background: rgba(0,0,0,.7);
      display:none;
      align-items:center;
      justify-content:center;
      padding: 18px;
      z-index: 40;
    }
    .modal.show{ display:flex; }
    .modal-card{
      width: min(980px, 96vw);
      border-radius: var(--radius);
      overflow:hidden;
      background: var(--panel);
      border:1px solid rgba(255,255,255,.14);
      box-shadow: var(--shadow);
      position:relative;
    }
    .modal-card img{
      width:100%;
      height: min(560px, 70vh);
      object-fit:cover;
      display:block;
    }
    .modal-bar{
      display:flex; justify-content:space-between; align-items:center;
      gap:10px;
      padding: 12px 14px;
      border-top:1px solid rgba(255,255,255,.10);
      color: var(--muted2);
      font-size: 13px;
    }
    .x{
      border:0;
      background: rgba(0,0,0,.25);
      border:1px solid rgba(255,255,255,.14);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 999px;
      cursor:pointer;
      font-weight: 900;
    }

    /* Reveal on scroll */
    .reveal{
      opacity:0;
      transform: translateY(14px);
      transition: opacity .55s ease, transform .55s ease;
    }
    .reveal.in{
      opacity:1;
      transform: translateY(0);
    }

    /* Selection */
    ::selection{ background: rgba(255,180,84,.25); }
  </style>
</head>

<body>
  <div class="grid-overlay"></div>

  <div class="beans" aria-hidden="true" id="beans"></div>

  <div class="wrap" data-theme="dark" id="app">
    <nav class="nav">
      <div class="container nav-inner">
        <a class="brand" href="#home">
          <span class="logo" aria-hidden="true"></span>
          <span>EMBER & BEAN</span>
        </a>

        <div class="nav-links">
          <a href="#menu">Menu</a>
          <a href="#gallery">Gallery</a>
          <a href="#reviews">Reviews</a>
          <a href="#faq">FAQ</a>
          <a href="#contact">Contact</a>
        </div>

        <div class="nav-cta">
          <div class="chip" title="Live roast clock">
            <span class="dot" aria-hidden="true"></span>
            <span id="clock">roasting...</span>
          </div>
          <a class="btn primary" href="#contact">
            <span aria-hidden="true">‚òï</span>
            <span>Reserve</span>
          </a>
        </div>
      </div>
    </nav>

    <header class="hero" id="home">
      <div class="container hero-grid">
        <div class="hero-card reveal">
          <div class="kicker">
            <span class="pill">COFFEE LAB + BAKERY</span>
            <span class="pill">SINGLE ORIGIN</span>
            <span class="pill">NIGHT ROASTS</span>
          </div>

          <h1>
            A coffee shop that feels like a
            <span style="background:linear-gradient(135deg,var(--brand2),var(--brand)); -webkit-background-clip:text; background-clip:text; color:transparent;">tiny universe</span>.
          </h1>

          <p class="lead">
            Welcome to Ember & Bean: part espresso bar, part creative studio. We roast in micro-batches, blend like a DJ,
            and serve drinks that look like art but taste like comfort.
          </p>

          <div class="hero-actions">
            <a class="btn primary" href="#menu"><span aria-hidden="true">‚ú®</span><span>Explore Menu</span></a>
            <button class="btn" id="randomDrinkBtn"><span aria-hidden="true">üé≤</span><span>Pick My Drink</span></button>
            <a class="btn ghost" href="#gallery"><span aria-hidden="true">üì∏</span><span>See Vibes</span></a>
          </div>

          <div class="stats">
            <div class="stat">
              <strong id="beansCount">0</strong>
              <span>beans drifting on screen</span>
            </div>
            <div class="stat">
              <strong>14</strong>
              <span>signature drinks</span>
            </div>
            <div class="stat">
              <strong>3</strong>
              <span>brew methods daily</span>
            </div>
          </div>
        </div>

        <div class="visual reveal">
          <img
            src="https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=1600&q=80"
            alt="Coffee cup with latte art on a table"
            loading="lazy"
            id="heroImg"
          />

          <div class="steam" aria-hidden="true">
            <i style="--i:0"></i>
            <i style="--i:1"></i>
            <i style="--i:2"></i>
            <i style="--i:3"></i>
            <i style="--i:4"></i>
          </div>

          <div class="overlay-ui">
            <div class="mini-top">
              <div class="tag"><span aria-hidden="true">üî•</span> Roast: <b id="roastLevel">Medium</b></div>
              <div class="tag"><span aria-hidden="true">üìç</span> <span>Open</span> <span id="openState">now</span></div>
            </div>

            <div class="mini-bottom">
              <div class="now-brewing">
                <div class="brew-title">
                  <strong>Now brewing</strong>
                  <span class="badge" id="nowBrewing">Citrus Cold Brew</span>
                </div>
                <div class="progress" aria-hidden="true"><div class="bar"></div></div>
                <div class="brew-meta">
                  <span id="brewNote1">notes: orange, cocoa</span>
                  <span id="brewNote2">mood: smooth</span>
                  <span id="brewNote3">method: flash-chill</span>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </header>

    <!-- MENU -->
    <section id="menu">
      <div class="container">
        <div class="section-head reveal">
          <div>
            <h2>Menu that hits different</h2>
            <p>
              Unique and creative, but still real coffee. Tap filters to remix the menu cards.
            </p>
          </div>
          <div class="badge">Tip: press <b>J</b> / <b>K</b> in reviews</div>
        </div>

        <div class="filters reveal" role="tablist" aria-label="Menu filters">
          <button class="filter active" data-filter="all" role="tab" aria-selected="true">All</button>
          <button class="filter" data-filter="espresso" role="tab" aria-selected="false">Espresso</button>
          <button class="filter" data-filter="cold" role="tab" aria-selected="false">Cold</button>
          <button class="filter" data-filter="signature" role="tab" aria-selected="false">Signature</button>
          <button class="filter" data-filter="bakery" role="tab" aria-selected="false">Bakery</button>
        </div>

        <div class="cards" id="menuCards">
          <!-- Card 1 -->
          <article class="card reveal" data-cat="signature">
            <div class="media">
              <img src="https://images.unsplash.com/photo-1512568400610-62da28bc8a13?auto=format&fit=crop&w=1400&q=80" alt="Iced coffee in a glass" loading="lazy">
            </div>
            <div class="body">
              <div class="row">
                <h3 class="title">Neon Tonic Espresso</h3>
                <div class="price">EGP 85</div>
              </div>
              <p class="desc">Sparkling tonic + espresso + citrus peel. Crisp, bright, weird in a good way.</p>
            </div>
          </article>

          <!-- Card 2 -->
          <article class="card reveal" data-cat="espresso">
            <div class="media">
              <img src="https://images.unsplash.com/photo-1459755486867-b55449bb39ff?auto=format&fit=crop&w=1400&q=80" alt="Espresso shot" loading="lazy">
            </div>
            <div class="body">
              <div class="row">
                <h3 class="title">Double Espresso</h3>
                <div class="price">EGP 55</div>
              </div>
              <p class="desc">Dense crema, chocolate finish. The simple thing done perfectly.</p>
            </div>
          </article>

          <!-- Card 3 -->
          <article class="card reveal" data-cat="cold">
            <div class="media">
              <img src="https://images.unsplash.com/photo-1517701550927-30cf4ba1dba5?auto=format&fit=crop&w=1400&q=80" alt="Cold brew coffee" loading="lazy">
            </div>
            <div class="body">
              <div class="row">
                <h3 class="title">Citrus Cold Brew</h3>
                <div class="price">EGP 75</div>
              </div>
              <p class="desc">Flash-chilled cold brew with orange zest and a cocoa tail.</p>
            </div>
          </article>

          <!-- Card 4 -->
          <article class="card reveal" data-cat="signature">
            <div class="media">
              <img src="https://images.unsplash.com/photo-1485808191679-5f86510681a2?auto=format&fit=crop&w=1400&q=80" alt="Latte art" loading="lazy">
            </div>
            <div class="body">
              <div class="row">
                <h3 class="title">Rose-Mocha Cloud</h3>
                <div class="price">EGP 95</div>
              </div>
              <p class="desc">Mocha base, hint of rose, soft foam on top. Like dessert with discipline.</p>
            </div>
          </article>

          <!-- Card 5 -->
          <article class="card reveal" data-cat="espresso">
            <div class="media">
              <img src="https://images.unsplash.com/photo-1521401292936-0a2129a30b1c?auto=format&fit=crop&w=1400&q=80" alt="Cappuccino" loading="lazy">
            </div>
            <div class="body">
              <div class="row">
                <h3 class="title">Cappuccino</h3>
                <div class="price">EGP 70</div>
              </div>
              <p class="desc">Classic microfoam, roasted hazelnut vibe. Balanced and bold.</p>
            </div>
          </article>

          <!-- Card 6 -->
          <article class="card reveal" data-cat="bakery">
            <div class="media">
              <img src="https://images.unsplash.com/photo-1512058564366-18510be2db19?auto=format&fit=crop&w=1400&q=80" alt="Croissant" loading="lazy">
            </div>
            <div class="body">
              <div class="row">
                <h3 class="title">Butter Croissant</h3>
                <div class="price">EGP 45</div>
              </div>
              <p class="desc">Flaky, warm, loud crunch. Best friend of espresso.</p>
            </div>
          </article>

          <!-- Card 7 -->
          <article class="card reveal" data-cat="signature">
            <div class="media">
              <img src="https://images.unsplash.com/photo-1524350876685-274059332603?auto=format&fit=crop&w=1400&q=80" alt="Coffee with cinnamon" loading="lazy">
            </div>
            <div class="body">
              <div class="row">
                <h3 class="title">Cinnamon Ember Latte</h3>
                <div class="price">EGP 90</div>
              </div>
              <p class="desc">Latte + cinnamon smoke note. Cozy but not basic.</p>
            </div>
          </article>

          <!-- Card 8 -->
          <article class="card reveal" data-cat="cold">
            <div class="media">
              <img src="https://images.unsplash.com/photo-1461023058943-07fcbe16d735?auto=format&fit=crop&w=1400&q=80" alt="Iced latte" loading="lazy">
            </div>
            <div class="body">
              <div class="row">
                <h3 class="title">Iced Vanilla Oat</h3>
                <div class="price">EGP 88</div>
              </div>
              <p class="desc">Oat milk + real vanilla, clean sweetness. Smooth all day.</p>
            </div>
          </article>

          <!-- Card 9 -->
          <article class="card reveal" data-cat="bakery">
            <div class="media">
              <img src="https://images.unsplash.com/photo-1519869325930-281384150729?auto=format&fit=crop&w=1400&q=80" alt="Chocolate cookie" loading="lazy">
            </div>
            <div class="body">
              <div class="row">
                <h3 class="title">Dark Choco Cookie</h3>
                <div class="price">EGP 35</div>
              </div>
              <p class="desc">Soft center, crispy edges, serious cocoa. No fake sweetness.</p>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- GALLERY -->
    <section id="gallery">
      <div class="container">
        <div class="section-head reveal">
          <div>
            <h2>Gallery</h2>
            <p>Tap any photo to open a fullscreen modal. Pure CSS glow + glass effects.</p>
          </div>
          <div class="badge">Click to zoom</div>
        </div>

        <div class="masonry">
          <div class="shot c7 r2 reveal" data-full="https://images.unsplash.com/photo-1523906834658-6e24ef2386f9?auto=format&fit=crop&w=2200&q=80">
            <img src="https://images.unsplash.com/photo-1523906834658-6e24ef2386f9?auto=format&fit=crop&w=1400&q=80" alt="Cafe interior with warm lights" loading="lazy">
            <div class="cap"><span>Warm interior, late-night roast</span><b>01</b></div>
          </div>

          <div class="shot c5 reveal" data-full="https://images.unsplash.com/photo-1521017432531-fbd92d768814?auto=format&fit=crop&w=2200&q=80">
            <img src="https://images.unsplash.com/photo-1521017432531-fbd92d768814?auto=format&fit=crop&w=1400&q=80" alt="Coffee shop counter" loading="lazy">
            <div class="cap"><span>Bar flow</span><b>02</b></div>
          </div>

          <div class="shot c4 reveal" data-full="https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=2200&q=80">
            <img src="https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=1400&q=80" alt="Latte art closeup" loading="lazy">
            <div class="cap"><span>Latte art</span><b>03</b></div>
          </div>

          <div class="shot c4 r2 reveal" data-full="https://images.unsplash.com/photo-1485808191679-5f86510681a2?auto=format&fit=crop&w=2200&q=80">
            <img src="https://images.unsplash.com/photo-1485808191679-5f86510681a2?auto=format&fit=crop&w=1400&q=80" alt="Coffee cup top view" loading="lazy">
            <div class="cap"><span>Velvet crema</span><b>04</b></div>
          </div>

          <div class="shot c6 reveal" data-full="https://images.unsplash.com/photo-1459755486867-b55449bb39ff?auto=format&fit=crop&w=2200&q=80">
            <img src="https://images.unsplash.com/photo-1459755486867-b55449bb39ff?auto=format&fit=crop&w=1400&q=80" alt="Espresso machine" loading="lazy">
            <div class="cap"><span>Machine glow</span><b>05</b></div>
          </div>

          <div class="shot c6 reveal" data-full="https://images.unsplash.com/photo-1512568400610-62da28bc8a13?auto=format&fit=crop&w=2200&q=80">
            <img src="https://images.unsplash.com/photo-1512568400610-62da28bc8a13?auto=format&fit=crop&w=1400&q=80" alt="Iced coffee glass" loading="lazy">
            <div class="cap"><span>Cold drink energy</span><b>06</b></div>
          </div>
        </div>
      </div>
    </section>

    <!-- REVIEWS -->
    <section id="reviews">
      <div class="container">
        <div class="section-head reveal">
          <div>
            <h2>Reviews</h2>
            <p>Small slider with keyboard support. Press J (prev) / K (next).</p>
          </div>
          <div class="badge">Auto-play: ON</div>
        </div>

        <div class="slider reveal" aria-label="Testimonials slider">
          <div class="track" id="track">
            <div class="quote">
              <p>‚ÄúThe Neon Tonic Espresso is insane. I came for coffee, left with a new personality.‚Äù</p>
              <div class="who"><strong>Hana</strong><span>Signature drinks</span></div>
            </div>
            <div class="quote">
              <p>‚ÄúTheir cold brew tastes like it was engineered. Smooth, not bitter, and the citrus note is clean.‚Äù</p>
              <div class="who"><strong>Omar</strong><span>Cold bar</span></div>
            </div>
            <div class="quote">
              <p>‚ÄúThe place looks like a futuristic cabin. Cozy lighting, good music, and espresso is on point.‚Äù</p>
              <div class="who"><strong>Salma</strong><span>Vibes check</span></div>
            </div>
            <div class="quote">
              <p>‚ÄúCroissant plus double espresso is a perfect combo. Simple, but they do it right.‚Äù</p>
              <div class="who"><strong>Youssef</strong><span>Classic combo</span></div>
            </div>
          </div>

          <div class="slider-controls">
            <button class="btn" id="prevBtn"><span aria-hidden="true">‚¨ÖÔ∏è</span><span>Prev</span></button>
            <button class="btn" id="nextBtn"><span aria-hidden="true">‚û°Ô∏è</span><span>Next</span></button>
            <span class="kbd">J / K</span>
            <span class="kbd">Esc closes modal</span>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq">
      <div class="container">
        <div class="section-head reveal">
          <div>
            <h2>FAQ</h2>
            <p>Accordion using native <code style="font-family:var(--mono); color:var(--brand)">details</code> (fast, accessible).</p>
          </div>
          <div class="badge">No frameworks</div>
        </div>

        <div class="faq">
          <details class="reveal">
            <summary>Do you have decaf? <span class="plus">+</span></summary>
            <p>Yes. We rotate a Swiss-water decaf so it stays flavorful.</p>
          </details>
          <details class="reveal">
            <summary>What does ‚Äúsingle origin‚Äù mean? <span class="plus">+</span></summary>
            <p>Single origin means the beans come from one region or farm, not a mixed blend.</p>
          </details>
          <details class="reveal">
            <summary>Can I work here with my laptop? <span class="plus">+</span></summary>
            <p>Yes, but we keep a ‚Äúquiet zone‚Äù and a ‚Äúchat zone‚Äù so everyone wins.</p>
          </details>
          <details class="reveal">
            <summary>Do you offer dairy alternatives? <span class="plus">+</span></summary>
            <p>Oat, almond, and lactose-free milk available.</p>
          </details>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact">
      <div class="container">
        <div class="section-head reveal">
          <div>
            <h2>Reserve a seat + order ahead</h2>
            <p>Basic JS validation. No backend. It just shows a success message.</p>
          </div>
          <div class="badge" id="formStatus">status: idle</div>
        </div>

        <div class="contact">
          <form class="reveal" id="reserveForm" novalidate>
            <div class="field">
              <label for="name">Name</label>
              <input id="name" name="name" placeholder="Your name" required />
            </div>

            <div class="field">
              <label for="email">Email</label>
              <input id="email" name="email" placeholder="name@example.com" required />
            </div>

            <div class="field">
              <label for="people">People</label>
              <select id="people" name="people" required>
                <option value="">Select...</option>
                <option>1</option><option>2</option><option>3</option><option>4</option><option>5+</option>
              </select>
            </div>

            <div class="field">
              <label for="note">Note</label>
              <textarea id="note" name="note" placeholder="Any special request? (quiet corner, birthday, etc)"></textarea>
            </div>

            <button class="btn primary" type="submit">
              <span aria-hidden="true">‚úÖ</span>
              <span>Send</span>
            </button>
            <button class="btn" type="button" id="fillDemo">
              <span aria-hidden="true">ü™Ñ</span>
              <span>Fill demo</span>
            </button>
          </form>

          <aside class="note reveal">
            <div class="top">
              <strong>Visit</strong>
              <span class="badge">Thu‚ÄìTue ‚Ä¢ 10:00‚Äì01:00</span>
            </div>
            <div class="map" role="img" aria-label="Decorative map image"></div>
            <div class="body">
              <p style="margin:0 0 10px;">
                <b>Location:</b> Downtown corner, next to the bookstore.
                <br/>
                <b>Wi-Fi:</b> Yes
                <br/>
                <b>Noise:</b> Medium (quiet zone available)
              </p>
              <p style="margin:0;">
                <b>Creative twist:</b> every Friday we drop a ‚Äúsecret drink‚Äù on the menu board.
              </p>
            </div>
          </aside>
        </div>
      </div>
    </section>

    <footer>
      <div class="container footer-grid">
        <div>
          <div style="display:flex; align-items:center; gap:10px;">
            <span class="logo" aria-hidden="true"></span>
            <strong style="letter-spacing:.7px;">EMBER & BEAN</strong>
          </div>
          <p class="small">
            Handmade coffee, micro-roasts, and a space built for creators.
            <br/>Built with HTML + CSS + basic JS only.
          </p>
        </div>
        <div class="links">
          <strong>Quick links</strong>
          <a href="#menu">Menu</a>
          <a href="#gallery">Gallery</a>
          <a href="#reviews">Reviews</a>
          <a href="#contact">Reserve</a>
        </div>
        <div class="links">
          <strong>Social</strong>
          <a href="#home">Instagram</a>
          <a href="#home">TikTok</a>
          <a href="#home">YouTube</a>
          <a href="#home">Email</a>
        </div>
      </div>
    </footer>

    <button class="btn primary topper" id="topBtn" title="Back to top">
      <span aria-hidden="true">‚¨ÜÔ∏è</span>
      <span>Top</span>
    </button>
  </div>

  <!-- Modal -->
  <div class="modal" id="modal" aria-hidden="true" role="dialog" aria-label="Image preview">
    <div class="modal-card">
      <img id="modalImg" alt="Expanded gallery view"/>
      <div class="modal-bar">
        <span id="modalText">Preview</span>
        <button class="x" id="closeModal" aria-label="Close">‚úï</button>
      </div>
    </div>
  </div>

  <script>
    // Helpers
    const $ = (q, el=document) => el.querySelector(q);
    const $$ = (q, el=document) => [...el.querySelectorAll(q)];

    // Live clock + open state (Africa/Cairo user timezone not needed, uses browser local)
    const clockEl = $("#clock");
    const openStateEl = $("#openState");
    function tick(){
      const d = new Date();
      const hh = String(d.getHours()).padStart(2,"0");
      const mm = String(d.getMinutes()).padStart(2,"0");
      clockEl.textContent = `roast clock ${hh}:${mm}`;
      // Open "now" if between 10:00 and 01:00 (10 -> 25)
      const h = d.getHours();
      const open = (h >= 10) || (h <= 1);
      openStateEl.textContent = open ? "now" : "later";
      openStateEl.style.color = open ? "var(--good)" : "var(--bad)";
    }
    tick(); setInterval(tick, 1000 * 15);

    // Floating beans generator
    const beansWrap = $("#beans");
    const beansCount = $("#beansCount");
    function spawnBean(){
      const b = document.createElement("div");
      b.className = "bean";
      const left = Math.random() * 100;
      const top = 110 + Math.random() * 30;
      const dur = 8 + Math.random() * 8;
      const size = 12 + Math.random() * 14;
      b.style.left = left + "vw";
      b.style.top = top + "vh";
      b.style.width = (size * .75) + "px";
      b.style.height = size + "px";
      b.style.animationDuration = dur + "s";
      b.style.animationDelay = (Math.random() * .2) + "s";
      beansWrap.appendChild(b);
      setTimeout(() => b.remove(), dur * 1000 + 800);
      beansCount.textContent = String($$(".bean", beansWrap).length);
    }
    for(let i=0;i<10;i++) setTimeout(spawnBean, i*220);
    setInterval(spawnBean, 650);

    // Random drink button (updates hero mini panel)
    const nowBrewing = $("#nowBrewing");
    const roastLevel = $("#roastLevel");
    const n1 = $("#brewNote1"), n2 = $("#brewNote2"), n3 = $("#brewNote3");
    const heroImg = $("#heroImg");

    const drinks = [
      {
        name:"Neon Tonic Espresso",
        roast:"Light",
        notes:["notes: lime, jasmine","mood: electric","method: espresso + tonic"],
        img:"https://images.unsplash.com/photo-1512568400610-62da28bc8a13?auto=format&fit=crop&w=1600&q=80"
      },
      {
        name:"Rose-Mocha Cloud",
        roast:"Medium",
        notes:["notes: cocoa, rose","mood: soft","method: latte + foam"],
        img:"https://images.unsplash.com/photo-1485808191679-5f86510681a2?auto=format&fit=crop&w=1600&q=80"
      },
      {
        name:"Citrus Cold Brew",
        roast:"Medium",
        notes:["notes: orange, cocoa","mood: smooth","method: flash-chill"],
        img:"https://images.unsplash.com/photo-1517701550927-30cf4ba1dba5?auto=format&fit=crop&w=1600&q=80"
      },
      {
        name:"Double Espresso",
        roast:"Dark",
        notes:["notes: chocolate, caramel","mood: focused","method: espresso shot"],
        img:"https://images.unsplash.com/photo-1459755486867-b55449bb39ff?auto=format&fit=crop&w=1600&q=80"
      }
    ];

    function setDrink(d){
      nowBrewing.textContent = d.name;
      roastLevel.textContent = d.roast;
      [n1.textContent, n2.textContent, n3.textContent] = d.notes;
      heroImg.src = d.img;
    }

    $("#randomDrinkBtn").addEventListener("click", () => {
      const d = drinks[Math.floor(Math.random() * drinks.length)];
      setDrink(d);
      // tiny shake feedback
      const v = heroImg;
      v.style.transition = "transform .12s ease";
      v.style.transform = "scale(1.08) rotate(-.2deg)";
      setTimeout(() => { v.style.transform = "scale(1.04)"; }, 140);
    });

    // Menu filtering
    const filters = $$(".filter");
    const cards = $$("#menuCards .card");

    function applyFilter(cat){
      cards.forEach(c => {
        const ok = cat === "all" || c.dataset.cat === cat;
        c.style.display = ok ? "" : "none";
      });
    }

    filters.forEach(btn => {
      btn.addEventListener("click", () => {
        filters.forEach(b => { b.classList.remove("active"); b.setAttribute("aria-selected","false"); });
        btn.classList.add("active");
        btn.setAttribute("aria-selected","true");
        applyFilter(btn.dataset.filter);
      });
    });

    // Gallery modal
    const modal = $("#modal");
    const modalImg = $("#modalImg");
    const modalText = $("#modalText");
    const closeModal = $("#closeModal");

    $$(".shot").forEach((s, i) => {
      s.addEventListener("click", () => {
        modal.classList.add("show");
        modal.setAttribute("aria-hidden","false");
        modalImg.src = s.dataset.full || s.querySelector("img").src;
        modalImg.alt = s.querySelector("img").alt || "Gallery image";
        modalText.textContent = `Gallery shot #${String(i+1).padStart(2,"0")}`;
      });
    });

    function hideModal(){
      modal.classList.remove("show");
      modal.setAttribute("aria-hidden","true");
      modalImg.src = "";
    }
    closeModal.addEventListener("click", hideModal);
    modal.addEventListener("click", (e) => { if(e.target === modal) hideModal(); });

    // Testimonials slider
    const track = $("#track");
    const quotes = $$(".quote", track);
    let idx = 0;

    function slideTo(i){
      idx = (i + quotes.length) % quotes.length;
      const w = quotes[0].getBoundingClientRect().width + 12;
      track.style.transform = `translateX(${-idx * w}px)`;
    }

    $("#prevBtn").addEventListener("click", () => slideTo(idx - 1));
    $("#nextBtn").addEventListener("click", () => slideTo(idx + 1));

    // Auto-play
    let autoplay = setInterval(() => slideTo(idx + 1), 4200);

    // Keyboard support
    window.addEventListener("keydown", (e) => {
      if (e.key.toLowerCase() === "j") slideTo(idx - 1);
      if (e.key.toLowerCase() === "k") slideTo(idx + 1);
      if (e.key === "Escape") hideModal();
    });

    // Pause autoplay on hover
    $("#reviews").addEventListener("mouseenter", () => { clearInterval(autoplay); });
    $("#reviews").addEventListener("mouseleave", () => { autoplay = setInterval(() => slideTo(idx + 1), 4200); });

    // Form validation
    const form = $("#reserveForm");
    const status = $("#formStatus");
    function setStatus(text, ok=true){
      status.textContent = "status: " + text;
      status.style.borderColor = ok ? "rgba(92,255,182,.35)" : "rgba(255,92,122,.35)";
      status.style.color = ok ? "var(--good)" : "var(--bad)";
    }

    function looksLikeEmail(s){
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(s).trim());
    }

    form.addEventListener("submit", (e) => {
      e.preventDefault();
      const name = $("#name").value.trim();
      const email = $("#email").value.trim();
      const people = $("#people").value.trim();

      if(!name){
        setStatus("name required", false);
        $("#name").focus();
        return;
      }
      if(!looksLikeEmail(email)){
        setStatus("email invalid", false);
        $("#email").focus();
        return;
      }
      if(!people){
        setStatus("select people", false);
        $("#people").focus();
        return;
      }

      setStatus("sent (demo)", true);
      form.reset();
      setTimeout(() => { status.textContent = "status: idle"; status.style.color = "var(--muted2)"; }, 2400);
    });

    $("#fillDemo").addEventListener("click", () => {
      $("#name").value = "Mina";
      $("#email").value = "mina@example.com";
      $("#people").value = "2";
      $("#note").value = "Quiet corner please. Also recommend a signature drink.";
      setStatus("demo filled", true);
    });

    // Back to top button
    const topBtn = $("#topBtn");
    window.addEventListener("scroll", () => {
      topBtn.classList.toggle("show", window.scrollY > 600);
    });
    topBtn.addEventListener("click", () => window.scrollTo({top:0, behavior:"smooth"}));

    // Reveal on scroll (IntersectionObserver)
    const io = new IntersectionObserver((entries) => {
      entries.forEach(en => {
        if(en.isIntersecting) en.target.classList.add("in");
      });
    }, { threshold: 0.12 });

    $$(".reveal").forEach(el => io.observe(el));

    // Small randomize on load
    setDrink(drinks[Math.floor(Math.random() * drinks.length)]);
  </script>
</body>
</html>